- Running Tests
	- Two Test Suites
		- Unit tests (`final finalTests`): internal logic — outline parsing, database repair, JS-Swift bridge
		- UI tests (`final finalUITests`): end-to-end smoke tests — app launch, editor modes, sidebar, focus mode
	- Prerequisites
		- Web editors must be built before either suite can run
			- `cd web && pnpm build && cd ..`
			- Only needed after changes in `web/`
		- Xcode project must be current
			- `xcodegen generate`
			- Only needed after moving or adding Swift files
	- Unit Tests (`final finalTests`)
		- When to run
			- After changing `OutlineParser.swift`, `ProjectRepairService.swift`, `ProjectIntegrityChecker.swift`, or anything in the editor bridge
			- After schema migrations change (the fixture validator catches drift)
			- Before committing any Swift code changes — fast and catches regressions
		- How to run
			- Full suite (~30s): `xcodebuild test -scheme "final final" -destination 'platform=macOS' -only-testing "final finalTests"`
		- Notes
			- Editor bridge tests (WKWebView) are the slowest part due to WebView load times and 300ms settling delays
			- `ProjectRepairServiceTests` scenarios 9-10 depend on external backup files; they skip gracefully if the files don't exist
	- UI Tests (`final finalUITests`)
		- When to run
			- After changing anything in `App/` (AppDelegate, FinalFinalApp, TestMode)
			- After changing `UITestHelpers.swift` or the launch flow
			- After changing the project picker, editor area, or status bar views
			- After schema migrations (regenerate the fixture first)
			- Before merging a branch to `main` — end-to-end confidence check
		- When NOT to run routinely
			- They take ~35 seconds, launch the full app multiple times, and depend on machine state
			- Don't run on every save — save for pre-commit or pre-merge
		- How to run
			- Launch tests only (~7s, fastest sanity check): `xcodebuild test -scheme "final final" -destination 'platform=macOS' -only-testing "final finalUITests/LaunchSmokeTests"`
			- Full UI suite (~35s): `xcodebuild test -scheme "final final" -destination 'platform=macOS' -only-testing "final finalUITests"`
			- Single test: `xcodebuild test -scheme "final final" -destination 'platform=macOS' -only-testing "final finalUITests/LaunchSmokeTests/testAppLaunches"`
	- Practical Workflow
		- During development: run unit tests after logic changes — they're fast
		- Before committing: run `LaunchSmokeTests` as a quick sanity check that the app still boots
		- Before merging to main: run the full UI suite
		- After schema migrations: regenerate the fixture, then run both suites
	- Regenerating the Test Fixture
		- Required after database schema migrations change
		- Steps
			- Run `FixtureGeneratorTests/testGenerateCommittedFixture` to create a new fixture at `/tmp/claude/test-fixture.ff`
			- Copy it to the committed location: `cp -r /tmp/claude/test-fixture.ff "final finalTests/Fixtures/test-fixture.ff"`
			- Run `FixtureGeneratorTests/testCommittedFixtureIsValid` to verify the fixture is correct
		- If you skip this after a migration, `testCommittedFixtureIsValid` will fail and UI tests that depend on the fixture (`EditorSmokeTests`) will fail with "Test fixture not found" or schema errors
